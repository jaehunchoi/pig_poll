<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" <meta name="viewport" content="width=device-width" , initial-scale="1">
    <title>hoons music</title>
    <link rel="stylesheet" href="css/bootstrap.css">


</head>

<body>
    <style type="text/css">
        .jumbotron {
            background-image: url('images/background.jpg');
            text-shadow: white 0.2em 0.2em 0.2em;
            color: black;
        }
    </style>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type-"button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">hoons music</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">소개
                            <span class="sr-only"></span></a></li>
                    <li><a href="#">신곡</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                            장르
                            <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">K-POP</a></li>
                            <li><a href="#">POP</a></li>
                            <li><a href="#">트로트</a></li>
                        </ul>
                    </li>
                </ul>
                <form class="navbar-form navbar-left">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="검색어를 입력하세요">
                        <button type="summit" class="btn btn-default">검색</button>
                    </div>
                </form>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        -3ㅈ2ㅊ ``">
                        접속
                        <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">로그인</a></li>
                            <li><a href="#">회원가입</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">

        <div class="jumbotron">
            <h3 class="text-center">당신의 최재훈을 얼마나 아시나요???</h3>
            <input type="text" id="question" value="몸무게는????" size="100">/>

            <div>
                <input class="text-center" type="button" onclick="point_btn(1)" id="cs1" value="87" />
                <input class="text-center" type="button" onclick="point_btn(2)" id="cs2" value="82" />
            </div>
            <div>
                <input class="text-center" type="button" onclick="point_btn(3)" id="cs3" value="79" />
                <input class="text-center" type="button" onclick="point_btn(4)" id="cs4" value="52" />
            </div>
        </div>>
        <div>


            <h4>점수 : </h4>
            <input type="button" id="total_point" value="0" />
        </div>
        <div>
            <h4>당신의 최재훈을 아는 정도는??? : </h4>
            <input type="text" id="outcome" value="">
        </div>

        <h4>친구의 최재훈을 아는 정도는???  : </h4>
        <input type="text" id="friend_outcome" value="">

        <script type="text/javascript">
            function point_btn(n) {
                var total_point = document.getElementById("total_point"); // 폼 선택

                total_point_val = parseInt(total_point.value); // 폼 값을 숫자열로 변환
                total_point_val += n; // 계산
                total_point.value = total_point_val; // 계산된 값을 바꾼다

            }
            window.onload = function getParameterByName() {
                var name = "pig_point"
                var friend_outcome = document.getElementById("friend_outcome");

                name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                    results = regex.exec(location.search);
                console.log(results);

                results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
                console.log(results[1]);
                friend_outcome.value = results[1]
                if (parseInt(friend_outcome.value) > 10) {
                    friend_outcome.value = "당신은 베프입니다."
                } else if (parseInt(friend_outcome.value) > 5) {
                    friend_outcome.value = "당신은 친한친구 입니다."
                } else {
                    friend_outcome.value = "당신은 남보다 못한 사이 입니다."
                }

            }


            // 스테이지 버튼
            function stage_btn(n) {

                var step = document.getElementById("step");
                var question = document.getElementById("question");

                var cs1 = document.getElementById("cs1");
                var cs2 = document.getElementById("cs2");
                var cs3 = document.getElementById("cs3");
                var cs4 = document.getElementById("cs4");

                step_val = parseInt(step.value); // 폼 값을 숫자열로 변환

                step_val += n;

                step.value = step_val; // 계산된 값 바꿈

                if (step_val <= 0) {
                    step.value = 1; // 0단계 이하 없음   
                }
                if (step_val >= 6) {
                    step.value = 6; // 5단계 까지만   
                }
                if (step_val == 6) {
                    var total_point = document.getElementById("total_point");
                    total_point_val = parseInt(total_point.value);
                    var outcome = document.getElementById("outcome");

                    if (total_point_val > 10) {
                        outcome.value = "당신은 베프입니다."
                    } else if (total_point_val > 5) {
                        outcome.value = "당신은 친한친구 입니다."
                    } else {
                        outcome.value = "당신은 남보다 못한 사이 입니다."
                    }
                }


                if (step_val == 1) {
                    question.value = "몸무게는??"
                    cs1.value = "87"
                    cs2.value = "82"
                    cs3.value = "79"
                    cs4.value = "52"
                } else if (step_val == 2) {
                    question.value = "고향은??"
                    cs1.value = "진주"
                    cs2.value = "서울"
                    cs3.value = "부산"
                    cs4.value = "경주"
                } else if (step_val == 3) {
                    question.value = "좋아하는 음식은???"
                    cs1.value = "회"
                    cs2.value = "곱창"
                    cs3.value = "냉면"
                    cs4.value = "아이스크림"
                } else if (step_val == 4) {
                    question.value = "다니는 회사는?"
                    cs1.value = "삼성"
                    cs2.value = "엘지"
                    cs3.value = "sk"
                    cs4.value = "naver"
                } else if (step_val == 5) {
                    question.value = "키는??"
                    cs1.value = "178"
                    cs2.value = "175"
                    cs3.value = "172"
                    cs4.value = "179"
                } else if (step_val == 6) {
                    question.value = "결과 페이지"
                    cs1.value = ""
                    cs2.value = ""
                    cs3.value = ""
                    cs4.value = ""
                }

            }

            function copyUrl() {
                if (window.clipboardData.setData('Text', location.href)) {
                    alert('선택하신 게시물의 고유주소(URL)가 클립보드에 복사되었습니다.\n\Ctrl + V 또는 붙여 넣기를 선택하여 이용하시기 바랍니다.');
                }

            }

            function CopyUrlToClipboard() {
                var obShareUrl = document.getElementById("ShareUrl");
                var total_point = document.getElementById("total_point");
                obShareUrl.value = window.document.location.href + "?pig_point=" + parseInt(total_point.value); // 현재 URL 을 세팅해 줍니다.


                obShareUrl.select(); // 해당 값이 선택되도록 select() 합니다

                document.execCommand("copy"); // 클립보드에 복사합니다.



                obShareUrl.blur(); // 선택된 것을 다시 선택안된것으로 바꿈니다.



                alert("URL이 클립보드에 복사되었습니다");
            }
        </script>
        <div>

            <button onclick="copyUrl()">공유하기</button>

            <button onclick="stage_btn(-1)">이전 단계</button>

            <input type="button" id="step" value="1" />

            <button onclick="stage_btn(1)">다음 단계</button>

        </div>
        <input type="text" id="ShareUrl">
        <span class="btn-type1"><button OnClick="javascript:CopyUrlToClipboard()">URL 복사</button></span>
        </p>
    </div>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/choose.js"></script>
</body>

</html>